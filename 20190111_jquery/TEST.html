<!doctype html>
<html lang="ko">
 <head>
  <meta charset="UTF-8">
  <meta name="Author" content="">
  <meta name="Keywords" content="">
  <meta name="Description" content="">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>scroll spider</title>
  <link rel="stylesheet" href="../css/reset.css">
  <script src = "../js/jquery-3.3.1.min.js"></script>
  <style>
  .wrap{margin: 50px;}
  .content{border: 1px dotted #000;}
  div.menu_container{width: 100%;}
  div.menu_container ul{width: 100%;}
  div.menu_container ul:after{content:""; display: block; clear: both;}
  div.menu_container ul > li{float: left; width: 20%; height: 100px; text-align: center; background: skyblue; border-right: 1px solid #ddd; line-height: 100px; cursor: pointer; box-sizing: border-box; transition:.3s;}
  div.menu_container ul.fixed{position: fixed; top: 0; left: 0; width: 100%;}
  div.menu_container ul.fixed li{line-height: 30px; height: 30px;}
  #btn{position: fixed; bottom: 20px; right: 20px;}
  .content{position: relative;}
  #img01{position: absolute; left: 0; transition:.3s;}
  #img02{position: absolute; right: 0; transition:.3s;}
  </style>
  <script>
	$(document).ready(function(){
		var $menu = $(".menu_container");
		var $menuPos = $menu.offset().top;

		var $car1 = $("#img01");
		var $carPos = $car1.offset().top;

		var $car2 = $("#img02");
		var $carPos2 = $car2.offset().top;

		$car1.css({opacity:0});
		$car2.css({opacity:0});

		console.log($carPos);

		$(window).on("scroll",function(){
			var scrollY = window.pageYOffset;
			console.log(scrollY);
		if (scrollY > $menuPos){
			$(".menu_container").addClass("fixed");
		}else{
			$(".menu_container").removeClass("fixed");
		}
		if (scrollY > $carPos -500){
			$car1.css({left:300,opacity:1});
		}else{
			$car1.css({left:0,opacity:0});
		}
		if (scrollY > $carPos2 -500){
			$car2.css({right:300,opacity:1});
		}else{
			$car2.css({right:0,opacity:0});
		}
		});

		$("#btn").click(function(){
			$("html,body").animate({scrollTop:0},1000);
		});

	});
  </script>
 </head>
 <body>
  <div class="wrap">
	<div class="content">
		<p>01</p>
		<p>02</p>
		<p>03</p>
		<p>04</p>
		<p>05</p>
		<p>06</p>
		<p>07</p>
		<p>08</p>
		<p>09</p>
		<p>10</p>
		<p>11</p>
		<p>12</p>
		<p>13</p>
		<p>14</p>
		<p>15</p>
		<p>16</p>
		<p>17</p>
		<p>18</p>
		<p>19</p>
		<p>20</p>
		<p>21</p>
		<p>22</p>
		<p>23</p>
		<p>24</p>
		<p>25</p>
		<p>26</p>
		<p>27</p>
		<p>28</p>
		<p>29</p>
		<p>30</p>
		<p>31</p>
		<p>32</p>
		<p>33</p>
		<p>34</p>
		<p>35</p>
		<p>36</p>
		<p>37</p>
		<p>38</p>
		<p>39</p>
		<p>40</p>
		<p>41</p>
		<p>42</p>
		<p>43</p>
		<p>44</p>
		<p>45</p>
		<p>46</p>
		<p>47</p>
		<p>48</p>
		<p>49</p>
		<p>50</p>
	</div>
	<div class="menu_container">
		<ul>
			<li>menu1</li>
			<li>menu2</li>
			<li>menu3</li>
			<li>menu4</li>
			<li>menu5</li>
		</ul>
	</div>
	<div class="content">
		<p>01</p>
		<p>02</p>
		<p>03</p>
		<p>04</p>
		<p>05</p>
		<p>06</p>
		<p>07</p>
		<p>08</p>
		<p>09</p>
		<p>10</p>
		<p>11</p>
		<p>12</p>
		<p>13
				<img src="../images/car01.gif" alt="car2" id="img02">
		</p>
		<p>14</p>
		<p>15</p>
		<p>16</p>
		<p>17</p>
		<p>18</p>
		<p>19</p>
		<p>20</p>
		<p>21
			<img src="../images/car01.gif" alt="car" id="img01">
		</p>
		<p>22</p>
		<p>23</p>
		<p>24</p>
		<p>25</p>
		<p>26</p>
		<p>27</p>
		<p>28</p>
		<p>29</p>
		<p>30</p>
		<p>31</p>
		<p>32</p>
		<p>33</p>
		<p>34</p>
		<p>35</p>
		<p>36</p>
		<p>37</p>
		<p>38</p>
		<p>39</p>
		<p>40</p>
		<p>41</p>
		<p>42</p>
		<p>43</p>
		<p>44</p>
		<p>45</p>
		<p>46</p>
		<p>47</p>
		<p>48</p>
		<p>49</p>
		<p>50</p>
	</div>
  </div>
  <button id="btn">위로</button>
 </body>
</html>
